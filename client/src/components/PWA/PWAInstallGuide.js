import React, { useState } from 'react';\n\nconst PWAInstallGuide = () => {\n  const [showGuide, setShowGuide] = useState(false);\n  const [selectedBrowser, setSelectedBrowser] = useState('chrome');\n\n  const browsers = {\n    chrome: {\n      name: 'Chrome',\n      icon: 'üü¶',\n      desktop: [\n        '1. Look for the ‚äï install icon in the address bar (next to bookmark star)',\n        '2. Click the ‚äï icon and select \"Install\"',\n        '3. OR: Click Chrome menu (‚ãÆ) ‚Üí \"Install Vila Falo...\"',\n        '4. Confirm installation in the popup dialog'\n      ],\n      mobile: [\n        '1. Tap Chrome menu (‚ãÆ) in top-right corner',\n        '2. Look for \"Add to Home Screen\" or \"Install App\"',\n        '3. Tap it and confirm installation',\n        '4. Vila Falo icon will appear on your home screen'\n      ]\n    },\n    edge: {\n      name: 'Microsoft Edge',\n      icon: 'üî∑',\n      desktop: [\n        '1. Look for the ‚äï install icon in the address bar',\n        '2. Click the ‚äï icon to install instantly',\n        '3. OR: Click Edge menu (‚ãØ) ‚Üí \"Apps\" ‚Üí \"Install this site as an app\"',\n        '4. Choose installation options and click \"Install\"'\n      ],\n      mobile: [\n        '1. Tap Edge menu (‚ãØ) at bottom of screen',\n        '2. Scroll down and tap \"Add to Home Screen\"',\n        '3. Edit the name if needed and tap \"Add\"',\n        '4. App will be added to your home screen'\n      ]\n    },\n    safari: {\n      name: 'Safari (iOS)',\n      icon: 'üß≠',\n      desktop: [\n        'Safari on Mac does not support PWA installation.',\n        'Please use Chrome or Edge for the best experience.',\n        'You can still use Vila Falo in Safari browser.',\n        'For app-like experience, bookmark the page.'\n      ],\n      mobile: [\n        '1. Tap the Share button (üì§) at the bottom of screen',\n        '2. Scroll down and tap \"Add to Home Screen\"',\n        '3. Edit the app name if needed',\n        '4. Tap \"Add\" in the top-right corner'\n      ]\n    },\n    firefox: {\n      name: 'Firefox',\n      icon: 'ü¶ä',\n      desktop: [\n        'Firefox has limited PWA support.',\n        'You can bookmark Vila Falo for quick access.',\n        'For full app experience, use Chrome or Edge.',\n        'PIN tab option: Right-click tab ‚Üí \"Pin Tab\"'\n      ],\n      mobile: [\n        '1. Tap Firefox menu (‚ãØ) in bottom toolbar',\n        '2. Tap \"Add to Home Screen\" if available',\n        '3. Or bookmark the page for quick access',\n        '4. Use Chrome for better PWA support'\n      ]\n    }\n  };\n\n  const detectBrowser = () => {\n    const ua = navigator.userAgent;\n    if (ua.includes('Edge')) return 'edge';\n    if (ua.includes('Chrome')) return 'chrome';\n    if (ua.includes('Safari') && !ua.includes('Chrome')) return 'safari';\n    if (ua.includes('Firefox')) return 'firefox';\n    return 'chrome';\n  };\n\n  const isMobile = /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n  \n  React.useEffect(() => {\n    setSelectedBrowser(detectBrowser());\n  }, []);\n\n  if (!showGuide) {\n    return (\n      <button\n        onClick={() => setShowGuide(true)}\n        className=\"fixed bottom-20 right-4 bg-green-500 hover:bg-green-600 text-white px-4 py-3 rounded-2xl shadow-lg font-semibold flex items-center space-x-2 z-40\"\n        title=\"Show manual install guide\"\n      >\n        <span>üìö</span>\n        <span>Install Guide</span>\n      </button>\n    );\n  }\n\n  const currentBrowser = browsers[selectedBrowser];\n  const instructions = isMobile ? currentBrowser.mobile : currentBrowser.desktop;\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\n      <div className=\"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-hidden\">\n        {/* Header */}\n        <div className=\"bg-gradient-to-r from-green-500 to-emerald-600 text-white p-6\">\n          <div className=\"flex justify-between items-center\">\n            <h2 className=\"text-xl font-bold flex items-center\">\n              <span className=\"mr-2\">üì±</span>\n              Install Vila Falo\n            </h2>\n            <button\n              onClick={() => setShowGuide(false)}\n              className=\"w-8 h-8 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center transition-colors\"\n            >\n              ‚úï\n            </button>\n          </div>\n          <p className=\"text-green-100 mt-2 text-sm\">\n            {isMobile ? 'üì± Mobile' : 'üñ•Ô∏è Desktop'} ‚Ä¢ {currentBrowser.name}\n          </p>\n        </div>\n\n        {/* Browser Selection */}\n        <div className=\"p-4 border-b\">\n          <h3 className=\"font-semibold mb-3 text-sm text-gray-700\">Select Your Browser:</h3>\n          <div className=\"grid grid-cols-2 gap-2\">\n            {Object.entries(browsers).map(([key, browser]) => (\n              <button\n                key={key}\n                onClick={() => setSelectedBrowser(key)}\n                className={`p-3 rounded-lg border-2 transition-all text-sm font-medium ${\n                  selectedBrowser === key\n                    ? 'border-green-500 bg-green-50 text-green-700'\n                    : 'border-gray-200 hover:border-gray-300 text-gray-600'\n                }`}\n              >\n                <span className=\"text-lg mr-2\">{browser.icon}</span>\n                {browser.name}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Instructions */}\n        <div className=\"p-6 overflow-y-auto max-h-80\">\n          <h3 className=\"font-bold text-lg mb-4 flex items-center\">\n            <span className=\"mr-2\">{currentBrowser.icon}</span>\n            How to Install in {currentBrowser.name}\n          </h3>\n          \n          <div className=\"space-y-3\">\n            {instructions.map((step, index) => (\n              <div key={index} className=\"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg\">\n                <div className=\"w-6 h-6 bg-green-500 text-white rounded-full flex items-center justify-center text-sm font-bold flex-shrink-0\">\n                  {index + 1}\n                </div>\n                <p className=\"text-sm text-gray-700 leading-relaxed\">{step}</p>\n              </div>\n            ))}\n          </div>\n\n          {/* Visual Hints */}\n          <div className=\"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200\">\n            <h4 className=\"font-semibold text-blue-800 mb-2 flex items-center\">\n              <span className=\"mr-2\">üí°</span>\n              Look for these signs:\n            </h4>\n            <div className=\"space-y-2 text-sm text-blue-700\">\n              {selectedBrowser === 'chrome' && (\n                <div className=\"space-y-1\">\n                  <div>‚Ä¢ ‚äï Install icon in address bar</div>\n                  <div>‚Ä¢ \"Install Vila Falo\" in menu</div>\n                  <div>‚Ä¢ Browser notification banner</div>\n                </div>\n              )}\n              {selectedBrowser === 'edge' && (\n                <div className=\"space-y-1\">\n                  <div>‚Ä¢ ‚äï Install icon in address bar</div>\n                  <div>‚Ä¢ \"Apps\" section in menu</div>\n                  <div>‚Ä¢ \"Install this site as an app\"</div>\n                </div>\n              )}\n              {selectedBrowser === 'safari' && (\n                <div className=\"space-y-1\">\n                  <div>‚Ä¢ üì§ Share button at bottom</div>\n                  <div>‚Ä¢ \"Add to Home Screen\" option</div>\n                  <div>‚Ä¢ App icon with + symbol</div>\n                </div>\n              )}\n              {selectedBrowser === 'firefox' && (\n                <div className=\"space-y-1\">\n                  <div>‚Ä¢ Limited PWA support</div>\n                  <div>‚Ä¢ Use bookmarks instead</div>\n                  <div>‚Ä¢ Switch to Chrome for best experience</div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"p-4 bg-gray-50 border-t flex justify-between items-center\">\n          <div className=\"text-xs text-gray-600\">\n            <div>‚úÖ Free ‚Ä¢ Works offline ‚Ä¢ Native app experience</div>\n          </div>\n          <button\n            onClick={() => setShowGuide(false)}\n            className=\"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-semibold transition-colors\"\n          >\n            Got it!\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PWAInstallGuide;